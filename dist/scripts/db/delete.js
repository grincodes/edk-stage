const mysql = require('mysql2');
require('dotenv').config();
const { EDEKEE_DB_USER, EDEKEE_DB_PASS, EDEKEE_DB_HOST, EDEKEE_DB_DEV_DB_NAME, EDEKEE_DB_TEST_DB_NAME, NODE_ENV } = process.env;
const dbName = NODE_ENV === "development"
    ? EDEKEE_DB_DEV_DB_NAME
    : EDEKEE_DB_TEST_DB_NAME;
const connection = mysql.createConnection({
    host: EDEKEE_DB_HOST,
    user: EDEKEE_DB_USER,
    password: EDEKEE_DB_PASS
});
connection.connect((err) => {
    if (err)
        throw err;
    connection.query(`DROP SCHEMA ${dbName}`, (err, result) => {
        if (err && err.code === "ER_DB_DROP_EXISTS") {
            console.log("Already deleted");
            process.exit(0);
        }
        if (err)
            throw err;
        console.log('Deleted db');
        process.exit(0);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVsZXRlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc2NyaXB0cy9kYi9kZWxldGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBRWhDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUUzQixNQUFNLEVBQ0osY0FBYyxFQUNkLGNBQWMsRUFDZCxjQUFjLEVBQ2QscUJBQXFCLEVBQ3JCLHNCQUFzQixFQUN0QixRQUFRLEVBQ1QsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDO0FBRWhCLE1BQU0sTUFBTSxHQUFHLFFBQVEsS0FBSyxhQUFhO0lBQ3ZDLENBQUMsQ0FBQyxxQkFBcUI7SUFDdkIsQ0FBQyxDQUFDLHNCQUFzQixDQUFDO0FBRTNCLE1BQU0sVUFBVSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQztJQUN4QyxJQUFJLEVBQUUsY0FBYztJQUNwQixJQUFJLEVBQUUsY0FBYztJQUNwQixRQUFRLEVBQUUsY0FBYztDQUN6QixDQUFDLENBQUM7QUFFSCxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7SUFDekIsSUFBSSxHQUFHO1FBQUUsTUFBTSxHQUFHLENBQUM7SUFDbkIsVUFBVSxDQUFDLEtBQUssQ0FBQyxlQUFlLE1BQU0sRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQ3hELElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssbUJBQW1CLEVBQUU7WUFDM0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQy9CLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDakI7UUFFRCxJQUFJLEdBQUc7WUFBRSxNQUFNLEdBQUcsQ0FBQztRQUVuQixPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzFCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEIsQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDLENBQUMsQ0FBQSJ9