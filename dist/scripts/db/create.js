const mysql = require('mysql2');
require('dotenv').config();
const { EDEKEE_DB_USER, EDEKEE_DB_PASS, EDEKEE_DB_HOST, EDEKEE_DB_DEV_DB_NAME, EDEKEE_DB_TEST_DB_NAME, NODE_ENV } = process.env;
const dbName = NODE_ENV === "development"
    ? EDEKEE_DB_DEV_DB_NAME
    : EDEKEE_DB_TEST_DB_NAME;
const connection = mysql.createConnection({
    host: EDEKEE_DB_HOST,
    user: EDEKEE_DB_USER,
    password: EDEKEE_DB_PASS
});
connection.connect((err) => {
    if (err)
        throw err;
    connection.query(`CREATE DATABASE ${dbName}`, (err, result) => {
        if (err && err.code === "ER_DB_CREATE_EXISTS") {
            console.log('Db already created');
            process.exit(0);
        }
        if (err) {
            throw err;
        }
        console.log('Created db');
        process.exit(0);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc2NyaXB0cy9kYi9jcmVhdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBRWhDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUUzQixNQUFNLEVBQ0osY0FBYyxFQUNkLGNBQWMsRUFDZCxjQUFjLEVBQ2QscUJBQXFCLEVBQ3JCLHNCQUFzQixFQUN0QixRQUFRLEVBQ1QsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDO0FBRWhCLE1BQU0sTUFBTSxHQUFHLFFBQVEsS0FBSyxhQUFhO0lBQ3ZDLENBQUMsQ0FBQyxxQkFBcUI7SUFDdkIsQ0FBQyxDQUFDLHNCQUFzQixDQUFBO0FBRTFCLE1BQU0sVUFBVSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQztJQUN4QyxJQUFJLEVBQUUsY0FBYztJQUNwQixJQUFJLEVBQUUsY0FBYztJQUNwQixRQUFRLEVBQUUsY0FBYztDQUN6QixDQUFDLENBQUM7QUFFSCxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7SUFDekIsSUFBSSxHQUFHO1FBQUUsTUFBTSxHQUFHLENBQUM7SUFDbkIsVUFBVSxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsTUFBTSxFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLEVBQUU7UUFFNUQsSUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxxQkFBcUIsRUFBRTtZQUM3QyxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLENBQUM7WUFDbEMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNqQjtRQUVELElBQUksR0FBRyxFQUFFO1lBQ1AsTUFBTSxHQUFHLENBQUM7U0FDWDtRQUVELE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDMUIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsQixDQUFDLENBQUMsQ0FBQTtBQUNKLENBQUMsQ0FBQyxDQUFBIn0=